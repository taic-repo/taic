# ipc-bench

所有的测试发送的消息大小均为 1bit，消息次数为 1000 次，统计总共的时间，来计算出吞吐量（msg/s，每秒能够发送的消息数量），对比结果如下：

| 测试          | 均值（吞吐量 msg/s） | 标准差 | 相对延迟比 |
| ------------- | -------------------- | ------ | ---------- |
| taic-uni      | 199215.0             | 9004.6 | 1          |
| taic-uni-uint | 137127.0             | 5109.9 | 1.453      |
| taic-bi       | 163158.4             | 7813.6 | 1.221      |
| taic-bi-uint  | 108734.7             | 3733.1 | 1.832      |
| signal        | 1334.7               | 74.5   | 149.258    |
| eventfd       | 374.9                | 12.9   | 531.382    |
| pipe          | 649.6                | 9.7    | 306.673    |

bi 表示双向，client 与 server 互相发送 IPC；uni 表示单向，client 向 server 发送；eventfd、pipe、signal 均为双向；uint 表示发送中断。总体分布见[图](./taic-ipc.pdf)。

这里与 taic 相关的测试都保证了接收方是处于在线的状态。当使用中断时，taic 可以实现微秒级的 IPC 机制。当不使用中断时，若接收方的正在执行其他的任务，taic 的处理延迟会被执行其他任务的延迟掩盖掉，若能保证其他的任务的执行时间也在微秒级，那么这种情况下，同样可以实现微秒级的 IPC 机制。